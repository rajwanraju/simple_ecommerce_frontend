(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{758:function(t,e,r){var map={"./af":619,"./af.js":619,"./ar":620,"./ar-dz":621,"./ar-dz.js":621,"./ar-kw":622,"./ar-kw.js":622,"./ar-ly":623,"./ar-ly.js":623,"./ar-ma":624,"./ar-ma.js":624,"./ar-sa":625,"./ar-sa.js":625,"./ar-tn":626,"./ar-tn.js":626,"./ar.js":620,"./az":627,"./az.js":627,"./be":628,"./be.js":628,"./bg":629,"./bg.js":629,"./bm":630,"./bm.js":630,"./bn":631,"./bn-bd":632,"./bn-bd.js":632,"./bn.js":631,"./bo":633,"./bo.js":633,"./br":634,"./br.js":634,"./bs":635,"./bs.js":635,"./ca":636,"./ca.js":636,"./cs":637,"./cs.js":637,"./cv":638,"./cv.js":638,"./cy":639,"./cy.js":639,"./da":640,"./da.js":640,"./de":641,"./de-at":642,"./de-at.js":642,"./de-ch":643,"./de-ch.js":643,"./de.js":641,"./dv":644,"./dv.js":644,"./el":645,"./el.js":645,"./en-au":646,"./en-au.js":646,"./en-ca":647,"./en-ca.js":647,"./en-gb":648,"./en-gb.js":648,"./en-ie":649,"./en-ie.js":649,"./en-il":650,"./en-il.js":650,"./en-in":651,"./en-in.js":651,"./en-nz":652,"./en-nz.js":652,"./en-sg":653,"./en-sg.js":653,"./eo":654,"./eo.js":654,"./es":655,"./es-do":656,"./es-do.js":656,"./es-mx":657,"./es-mx.js":657,"./es-us":658,"./es-us.js":658,"./es.js":655,"./et":659,"./et.js":659,"./eu":660,"./eu.js":660,"./fa":661,"./fa.js":661,"./fi":662,"./fi.js":662,"./fil":663,"./fil.js":663,"./fo":664,"./fo.js":664,"./fr":665,"./fr-ca":666,"./fr-ca.js":666,"./fr-ch":667,"./fr-ch.js":667,"./fr.js":665,"./fy":668,"./fy.js":668,"./ga":669,"./ga.js":669,"./gd":670,"./gd.js":670,"./gl":671,"./gl.js":671,"./gom-deva":672,"./gom-deva.js":672,"./gom-latn":673,"./gom-latn.js":673,"./gu":674,"./gu.js":674,"./he":675,"./he.js":675,"./hi":676,"./hi.js":676,"./hr":677,"./hr.js":677,"./hu":678,"./hu.js":678,"./hy-am":679,"./hy-am.js":679,"./id":680,"./id.js":680,"./is":681,"./is.js":681,"./it":682,"./it-ch":683,"./it-ch.js":683,"./it.js":682,"./ja":684,"./ja.js":684,"./jv":685,"./jv.js":685,"./ka":686,"./ka.js":686,"./kk":687,"./kk.js":687,"./km":688,"./km.js":688,"./kn":689,"./kn.js":689,"./ko":690,"./ko.js":690,"./ku":691,"./ku.js":691,"./ky":692,"./ky.js":692,"./lb":693,"./lb.js":693,"./lo":694,"./lo.js":694,"./lt":695,"./lt.js":695,"./lv":696,"./lv.js":696,"./me":697,"./me.js":697,"./mi":698,"./mi.js":698,"./mk":699,"./mk.js":699,"./ml":700,"./ml.js":700,"./mn":701,"./mn.js":701,"./mr":702,"./mr.js":702,"./ms":703,"./ms-my":704,"./ms-my.js":704,"./ms.js":703,"./mt":705,"./mt.js":705,"./my":706,"./my.js":706,"./nb":707,"./nb.js":707,"./ne":708,"./ne.js":708,"./nl":709,"./nl-be":710,"./nl-be.js":710,"./nl.js":709,"./nn":711,"./nn.js":711,"./oc-lnc":712,"./oc-lnc.js":712,"./pa-in":713,"./pa-in.js":713,"./pl":714,"./pl.js":714,"./pt":715,"./pt-br":716,"./pt-br.js":716,"./pt.js":715,"./ro":717,"./ro.js":717,"./ru":718,"./ru.js":718,"./sd":719,"./sd.js":719,"./se":720,"./se.js":720,"./si":721,"./si.js":721,"./sk":722,"./sk.js":722,"./sl":723,"./sl.js":723,"./sq":724,"./sq.js":724,"./sr":725,"./sr-cyrl":726,"./sr-cyrl.js":726,"./sr.js":725,"./ss":727,"./ss.js":727,"./sv":728,"./sv.js":728,"./sw":729,"./sw.js":729,"./ta":730,"./ta.js":730,"./te":731,"./te.js":731,"./tet":732,"./tet.js":732,"./tg":733,"./tg.js":733,"./th":734,"./th.js":734,"./tk":735,"./tk.js":735,"./tl-ph":736,"./tl-ph.js":736,"./tlh":737,"./tlh.js":737,"./tr":738,"./tr.js":738,"./tzl":739,"./tzl.js":739,"./tzm":740,"./tzm-latn":741,"./tzm-latn.js":741,"./tzm.js":740,"./ug-cn":742,"./ug-cn.js":742,"./uk":743,"./uk.js":743,"./ur":744,"./ur.js":744,"./uz":745,"./uz-latn":746,"./uz-latn.js":746,"./uz.js":745,"./vi":747,"./vi.js":747,"./x-pseudo":748,"./x-pseudo.js":748,"./yo":749,"./yo.js":749,"./zh-cn":750,"./zh-cn.js":750,"./zh-hk":751,"./zh-hk.js":751,"./zh-mo":752,"./zh-mo.js":752,"./zh-tw":753,"./zh-tw.js":753};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=758},785:function(t,e,r){"use strict";var n={props:["text"]},o=r(23),c=r(34),l=r.n(c),d=r(593),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("v-card",{staticClass:"text-center d-flex justify-center align-center mt-5",attrs:{outlined:"","min-height":"15em"}},[r("p",{staticClass:"title"},[t._v(t._s(t.text))])])],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VCard:d.a})},808:function(t,e,r){var content=r(883);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("0b61108e",content,!0,{sourceMap:!1})},810:function(t,e,r){var content=r(897);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("38f52790",content,!0,{sourceMap:!1})},811:function(t,e,r){var content=r(899);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("d6aff31e",content,!0,{sourceMap:!1})},882:function(t,e,r){"use strict";r(808)},883:function(t,e,r){var n=r(12)(!1);n.push([t.i,".order-link[data-v-bf874276]{color:#008b8b;font-size:14px;font-weight:600}.order-link[data-v-bf874276]:hover{color:#000}",""]),t.exports=n},896:function(t,e,r){"use strict";r(810)},897:function(t,e,r){var n=r(12)(!1);n.push([t.i,".order-link[data-v-7278407a]{color:#008b8b;font-size:14px;font-weight:600}.order-link[data-v-7278407a]:hover{color:#000}",""]),t.exports=n},898:function(t,e,r){"use strict";r(811)},899:function(t,e,r){var n=r(12)(!1);n.push([t.i,".order-link[data-v-2d0471d7]{color:#008b8b;font-size:14px;font-weight:600}.order-link[data-v-2d0471d7]:hover{color:#000}",""]),t.exports=n},989:function(t,e,r){"use strict";r.r(e);var n=r(785),o=(r(8),r(6),r(7),r(10),r(11),r(2)),c=r(205),l=r(616),d=r.n(l),v=r(29);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={data:function(){return{moment:d.a,env:c.a,paymentDialog:!1,datepicker:!1,filtePanel:!1,dates:[],orderEditPanel:!1,confirmDialog:!1,confiremed:!1,orderStatusUpdatedItem:null,paymentConfirmDialog:!1,paymentConfiremed:!1,paymentStatusUpdatedItem:null,getOrderState:!1,onlineOrderList:[],item:{state:null,paymentStatus:null},payload:{startDate:null,endDate:null,search:null},search:"",orderSearch:"",headers:[{text:"Order ID",align:"start",filterable:!1,value:"orderId"},{text:"Date",value:"createdAt"},{text:"Order From",value:"createdBy"},{text:"Customer",value:"customer.name"},{text:"Amount",value:"totalBill"},{text:"Discount",value:"discount"},{text:"Order Due",value:"orderDue"},{text:"Status",value:"state"},{text:"Action",value:"action"}],itemsOs:[{text:"pending",value:0},{text:"processing",value:1},{text:"sent for delivery",value:2},{text:"delivered",value:3},{text:"returned ",value:4},{text:"cancelled",value:6}],itemsPs:[{text:"pending",value:0},{text:"paid",value:1},{text:"refund",value:2},{text:"cancelled",value:3}]}},created:function(){},mounted:function(){this.imageUrl="https://api.sailorsexpress.com/",localStorage.isAdmin&&(this.isAdmin=localStorage.isAdmin,this.admin=JSON.parse(localStorage.admin),this.ctoken=localStorage.token,this.initialize())},computed:{dateRangeText:function(){return this.dates.length>0?this.dates.join(" ~ "):"Select Date Range"}},watch:{name:function(t,e){console.log(t,e)}},methods:h(h({},Object(v.b)({successMessage:"snackbar/successMessage"})),{},{filteredOrders:function(){this.filtePanel?this.filtePanel=!1:this.filtePanel=!0},orderDetails:function(t){this.$store.commit("SetOrderDetails",t),this.$router.push("/dashboard/order/"+t.orderId)},updateOrder:function(t){console.log(t);var e={deliveryAddress:t.customer.deliveryAddress},r="/order/update/"+t._id;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$post(r,e).then((function(t){console.log(t)})).catch((function(t){}))},initialize:function(){var t=this;this.$axios.setToken(this.ctoken),this.$axios.$post("/order/view",this.payload).then((function(e){t.onlineOrderList=e.data})).catch((function(t){}))},getFilteredOrders:function(){var t=this;this.payload.startDate=this.dates[0],this.payload.endDate=this.dates[1];this.$axios.setToken(this.ctoken),this.$axios.$post("/order/view/byDate",this.payload).then((function(e){t.onlineOrderList=e.data,setTimeout((function(){t.filtePanel=!1}),2e3)})).catch((function(t){}))},confirmOrderStatusUpdate:function(){this.confirmDialog=!1,this.confiremed=!0,this.callUpdateOrderStatusApi(this.orderStatusUpdatedItem)},cancelOrderStatusUpdate:function(){this.confirmDialog=!1,this.initialize()},updateOrderStatus:function(t){this.confirmDialog=!0,this.orderStatusUpdatedItem=t},callUpdateOrderStatusApi:function(t){var e=this,r="/order/update/"+t._id+"/state/"+t.state;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$get(r).then((function(t){t.success&&e.successMessage("Order Status Updated")}))},confirmPaymentStatusUpdate:function(){this.paymentConfirmDialog=!1,this.paymentConfiremed=!0,this.callUpdatePaymentStatusApi(this.paymentStatusUpdatedItem)},cancelPaymentStatusUpdate:function(){this.paymentConfirmDialog=!1,this.initialize()},updatePaymentStatus:function(t){this.paymentConfirmDialog=!0,this.paymentStatusUpdatedItem=t},callUpdatePaymentStatusApi:function(t){var e=this,r="/order/update/"+t._id+"/payment/"+t.paymentStatus;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$get(r).then((function(t){t.success&&e.successMessage("Payment Status Updated")}))},paymentAccept:function(t){this.paymentItem=t,this.paymentDialog=!0},confirmPayment:function(){var t=this;this.$axios.setToken(this.ctoken);var e="/admin/approve/payment/"+this.paymentItem._id;this.$axios.$get(e).then((function(e){t.successMessage("Payment Proceed!"),t.paymentItem=null,setTimeout((function(){window.location.reload()}),500)})).catch((function(e){t.errorMessage=e.message}))},priceFormate:function(t){return new Intl.NumberFormat({maximumSignificantDigits:3}).format(Math.floor(t))}})},_=(r(882),r(23)),y=r(34),x=r.n(y),O=r(119),S=r(593),C=r(304),j=r(787),k=r(757),D=r(614),w=r(993),P=r(991),A=r(604),V=r(596),I=r(192),$=r(807),T=r(610),U=r(756),M=r(606),z=r(592),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("v-card",[r("v-btn",{staticStyle:{float:"right"},on:{click:t.filteredOrders}},[r("v-icon",[t._v("filter_alt")]),t._v("Find Orders\n        ")],1),t._v(" "),r("br"),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.filtePanel,expression:"filtePanel"}],staticClass:"filer-order pt-10"},[r("v-card",[r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"pa-3",attrs:{outlined:""}},[r("span",{staticClass:"overline"},[t._v("Select Date Range")]),t._v(" "),r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-text-field",t._g(t._b({staticClass:"mt-1",attrs:{range:"",label:"Select Date Range","append-icon":"mdi-calendar",readonly:"",clearable:"",dense:"",outlined:""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},"v-text-field",o,!1),n))]}}]),model:{value:t.datepicker,callback:function(e){t.datepicker=e},expression:"datepicker"}},[t._v(" "),r("v-date-picker",{attrs:{range:""},on:{input:function(e){t.menu2=!1}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1)],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"pa-3",attrs:{outlined:""}},[r("span",{staticClass:"overline"},[t._v("Search With Name/Phone/Order Id")]),t._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",label:"Search Here","prepend-inner-icon":"search"},model:{value:t.payload.search,callback:function(e){t.$set(t.payload,"search",e)},expression:"payload.search"}})],1)],1)],1),t._v(" "),r("v-row",{staticClass:"my-5"},[r("v-col",[r("v-btn",{attrs:{block:"",color:"primary"},on:{click:t.getFilteredOrders}},[r("v-icon",[t._v("filter_alt")]),t._v("Find Orders\n                  ")],1)],1)],1)],1)],1)],1),t._v(" "),r("v-container",[r("h4",{staticClass:"text-center pt-10 pb-10"},[t._v("Order List")]),t._v(" "),r("v-card",[r("v-card-title",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.onlineOrderList,search:t.search,"items-per-page":10,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"}},scopedSlots:t._u([{key:"item.orderId",fn:function(e){var n=e.item;return[r("a",{staticClass:"order-link",on:{click:function(e){return t.orderDetails(n)}}},[t._v("\n                  "+t._s(n.orderId)+"\n                ")])]}},{key:"item.customer.name",fn:function(e){var n=e.item;return[t._v("\n                "+t._s(n.customer.name)+"\n                "),r("br"),t._v(" "),r("span",[t._v(t._s(n.phone))]),t._v(" "),r("br"),t._v(" "),r("span",[t._v(t._s(n.customer.address))])]}},{key:"item.createdAt",fn:function(e){var r=e.item;return[t._v("\n                "+t._s(t.moment(r.createdAt).format("DD MMM YYYY"))+"\n              ")]}},{key:"item.createdBy",fn:function(e){var n=e.item;return["agent"==n.createdBy?r("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v("Agent")]):t._e(),t._v(" "),"customer"==n.createdBy?r("v-chip",{staticClass:"ma-2",attrs:{color:"sailor","text-color":"white"}},[t._v("Customer")]):t._e()]}},{key:"item.totalBill",fn:function(e){var r=e.item;return[t._v("\n                ৳"+t._s(t.priceFormate(r.totalBill))+"\n              ")]}},{key:"item.orderDue",fn:function(e){var r=e.item;return[t._v("\n                ৳"+t._s(t.priceFormate(r.orderDue))+"\n              ")]}},{key:"item.state",fn:function(e){var n=e.item;return[0==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Pending")]):t._e(),t._v(" "),1==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v("Processing")]):t._e(),t._v(" "),2==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"info","text-color":"white"}},[t._v("Sent for delivery")]):t._e(),t._v(" "),3==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivered")]):t._e(),t._v(" "),4==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Returned")]):t._e(),t._v(" "),6==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Cancelled")]):t._e()]}},{key:"item.action",fn:function(e){var n=e.item;return[r("v-select",{attrs:{items:t.itemsOs,label:"Order Status",dense:"",outlined:"",disabled:3==n.state||4==n.state},on:{change:function(e){return t.updateOrderStatus(n)}},model:{value:n.state,callback:function(e){t.$set(n,"state",e)},expression:"item.state"}}),t._v(" "),r("v-select",{attrs:{items:t.itemsPs,label:"Payment Status",dense:"",outlined:""},on:{change:function(e){return t.updatePaymentStatus(n)}},model:{value:n.paymentStatus,callback:function(e){t.$set(n,"paymentStatus",e)},expression:"item.paymentStatus"}}),t._v(" "),r("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.paymentConfirmDialog,callback:function(e){t.paymentConfirmDialog=e},expression:"paymentConfirmDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Confirm Payment Status Panel")]),t._v(" "),r("v-card-text",[t._v("Are You Sure You Want to Change the Payment Status\n                      ?")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"error"},on:{click:t.cancelPaymentStatusUpdate}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.confirmPaymentStatusUpdate}},[t._v("I accept")])],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Confirm Order Status Panel")]),t._v(" "),r("v-card-text",[t._v("Are You Sure You Want to Change the Order Status\n                      ?")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"error"},on:{click:t.cancelOrderStatusUpdate}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.confirmOrderStatusUpdate}},[t._v("I accept")])],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{width:"500"},model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[r("v-card",[r("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v("\n                      Payment Confirm\n                    ")]),t._v(" "),r("v-card-text",[t._v("\n                      A Request for confirmation about payment. Are you sure\n                      to process it?\n                    ")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.paymentDialog=!1}}},[t._v("\n                        Cancel\n                      ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.confirmPayment}},[t._v("\n                        I accept\n                      ")])],1)],1)],1)]}}])})],1)],1)],1)],1)}),[],!1,null,"bf874276",null),B=component.exports;x()(component,{VBtn:O.a,VCard:S.a,VCardActions:C.a,VCardText:C.b,VCardTitle:C.c,VChip:j.a,VCol:k.a,VContainer:D.a,VDataTable:w.a,VDatePicker:P.a,VDialog:A.a,VDivider:V.a,VIcon:I.a,VMenu:$.a,VRow:T.a,VSelect:U.a,VSpacer:M.a,VTextField:z.a});function F(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var E={data:function(){return{moment:d.a,env:c.a,paymentDialog:!1,datepicker:!1,filtePanel:!1,dates:[],loading:!0,orderEditPanel:!1,confirmDialog:!1,confiremed:!1,orderStatusUpdatedItem:null,paymentConfirmDialog:!1,paymentConfiremed:!1,paymentStatusUpdatedItem:null,getOrderState:!1,onlineOrderList:[],customerOrderList:[],item:{state:null,paymentStatus:null},payload:{startDate:null,endDate:null,search:null},search:"",orderSearch:"",headers:[{text:"Order ID",align:"start",filterable:!1,value:"orderId"},{text:"Date",value:"createdAt"},{text:"Order From",value:"createdBy"},{text:"Customer",value:"customer.name"},{text:"Amount",value:"totalBill"},{text:"Discount",value:"discount"},{text:"Order Due",value:"orderDue"},{text:"Status",value:"state"},{text:"Action",value:"action"}],itemsOs:[{text:"pending",value:0},{text:"processing",value:1},{text:"sent for delivery",value:2},{text:"delivered",value:3},{text:"returned ",value:4},{text:"cancelled",value:6}],itemsPs:[{text:"pending",value:0},{text:"paid",value:1},{text:"refund",value:2},{text:"cancelled",value:3}]}},created:function(){},mounted:function(){this.imageUrl="https://api.sailorsexpress.com/",localStorage.isAdmin&&(this.isAdmin=localStorage.isAdmin,this.admin=JSON.parse(localStorage.admin),this.ctoken=localStorage.token,this.initialize())},computed:{dateRangeText:function(){return this.dates.length>0?this.dates.join(" ~ "):"Select Date Range"}},watch:{name:function(t,e){console.log(t,e)}},methods:L(L({},Object(v.b)({successMessage:"snackbar/successMessage"})),{},{filteredOrders:function(){this.filtePanel?this.filtePanel=!1:this.filtePanel=!0},orderDetails:function(t){this.$store.commit("SetOrderDetails",t),this.$router.push("/dashboard/order/"+t.orderId)},updateOrder:function(t){console.log(t);var e={deliveryAddress:t.customer.deliveryAddress},r="/order/update/"+t._id;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$post(r,e).then((function(t){console.log(t)})).catch((function(t){}))},initialize:function(){var t=this;this.$axios.setToken(this.ctoken),this.$axios.$get("/order/view/agent-orders").then((function(e){t.onlineOrderList=e.data,t.loading=!1})).catch((function(t){}))},getFilteredOrders:function(){var t=this;this.payload.startDate=this.dates[0],this.payload.endDate=this.dates[1];this.$axios.setToken(this.ctoken),this.$axios.$post("/order/view/byDate",this.payload).then((function(e){t.onlineOrderList=e.data,setTimeout((function(){t.filtePanel=!1}),2e3)})).catch((function(t){}))},confirmOrderStatusUpdate:function(){this.confirmDialog=!1,this.confiremed=!0,this.callUpdateOrderStatusApi(this.orderStatusUpdatedItem)},cancelOrderStatusUpdate:function(){this.confirmDialog=!1,this.initialize()},updateOrderStatus:function(t){this.confirmDialog=!0,this.orderStatusUpdatedItem=t},callUpdateOrderStatusApi:function(t){var e=this,r="/order/update/"+t._id+"/state/"+t.state;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$get(r).then((function(t){t.success&&e.successMessage("Order Status Updated")}))},confirmPaymentStatusUpdate:function(){this.paymentConfirmDialog=!1,this.paymentConfiremed=!0,this.callUpdatePaymentStatusApi(this.paymentStatusUpdatedItem)},cancelPaymentStatusUpdate:function(){this.paymentConfirmDialog=!1,this.initialize()},updatePaymentStatus:function(t){this.paymentConfirmDialog=!0,this.paymentStatusUpdatedItem=t},callUpdatePaymentStatusApi:function(t){var e=this,r="/order/update/"+t._id+"/payment/"+t.paymentStatus;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$get(r).then((function(t){t.success&&e.successMessage("Payment Status Updated")}))},paymentAccept:function(t){this.paymentItem=t,console.log(t),this.paymentDialog=!0},confirmPayment:function(){var t=this;this.$axios.setToken(this.ctoken);var e="/admin/approve/payment/"+this.paymentItem._id;this.$axios.$get(e).then((function(e){t.successMessage("Payment Proceed!"),t.paymentItem=null,setTimeout((function(){window.location.reload()}),500)})).catch((function(e){t.errorMessage=e.message}))},priceFormate:function(t){return new Intl.NumberFormat({maximumSignificantDigits:3}).format(Math.floor(t))}})},R=(r(896),Object(_.a)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("v-card",[r("v-container",[r("h4",{staticClass:"text-center pt-10 pb-10"},[t._v("Agent Order List")]),t._v(" "),r("v-card",[r("v-card-title",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.onlineOrderList,search:t.search,loading:t.loading,"loading-text":"Loading... Please wait","items-per-page":10,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"}},scopedSlots:t._u([{key:"item.orderId",fn:function(e){var n=e.item;return[r("a",{staticClass:"order-link",on:{click:function(e){return t.orderDetails(n)}}},[t._v("\n              "+t._s(n.orderId)+"\n            ")])]}},{key:"item.customer.name",fn:function(e){var n=e.item;return[t._v("\n            "+t._s(n.customer.name)+"\n            "),r("br"),t._v(" "),r("span",[t._v(t._s(n.phone))]),t._v(" "),r("br"),t._v(" "),r("span",[t._v(t._s(n.customer.address))])]}},{key:"item.createdAt",fn:function(e){var r=e.item;return[t._v("\n            "+t._s(t.moment(r.createdAt).format("DD MMM YYYY"))+"\n          ")]}},{key:"item.createdBy",fn:function(e){var n=e.item;return["agent"==n.createdBy?r("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v("Agent")]):t._e(),t._v(" "),"customer"==n.createdBy?r("v-chip",{staticClass:"ma-2",attrs:{color:"sailor","text-color":"white"}},[t._v("Customer")]):t._e()]}},{key:"item.totalBill",fn:function(e){var r=e.item;return[t._v("\n            ৳"+t._s(t.priceFormate(r.totalBill))+"\n          ")]}},{key:"item.orderDue",fn:function(e){var r=e.item;return[t._v("\n            ৳"+t._s(t.priceFormate(r.orderDue))+"\n          ")]}},{key:"item.state",fn:function(e){var n=e.item;return[0==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Pending")]):t._e(),t._v(" "),1==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v("Processing")]):t._e(),t._v(" "),2==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"info","text-color":"white"}},[t._v("Sent for delivery")]):t._e(),t._v(" "),3==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivered")]):t._e(),t._v(" "),4==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Returned")]):t._e(),t._v(" "),6==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Cancelled")]):t._e()]}},{key:"item.action",fn:function(e){var n=e.item;return[r("v-select",{attrs:{items:t.itemsOs,label:"Order Status",dense:"",outlined:"",disabled:3==n.state||4==n.state},on:{change:function(e){return t.updateOrderStatus(n)}},model:{value:n.state,callback:function(e){t.$set(n,"state",e)},expression:"item.state"}}),t._v(" "),r("v-select",{attrs:{items:t.itemsPs,label:"Payment Status",dense:"",outlined:""},on:{change:function(e){return t.updatePaymentStatus(n)}},model:{value:n.paymentStatus,callback:function(e){t.$set(n,"paymentStatus",e)},expression:"item.paymentStatus"}}),t._v(" "),r("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.paymentConfirmDialog,callback:function(e){t.paymentConfirmDialog=e},expression:"paymentConfirmDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Confirm Payment Status Panel")]),t._v(" "),r("v-card-text",[t._v("Are You Sure You Want to Change the Payment Status ?")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"error"},on:{click:t.cancelPaymentStatusUpdate}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.confirmPaymentStatusUpdate}},[t._v("I accept")])],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Confirm Order Status Panel")]),t._v(" "),r("v-card-text",[t._v("Are You Sure You Want to Change the Order Status ?")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"error"},on:{click:t.cancelOrderStatusUpdate}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.confirmOrderStatusUpdate}},[t._v("I accept")])],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{width:"500"},model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[r("v-card",[r("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v("\n            Payment Confirm\n          ")]),t._v(" "),r("v-card-text",[t._v("\n            A Request for confirmation about payment. Are you sure to process\n            it?\n          ")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.paymentDialog=!1}}},[t._v("\n              Cancel\n            ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.confirmPayment}},[t._v("\n              I accept\n            ")])],1)],1)],1)]}}])})],1)],1),t._v(" "),r("br"),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.filtePanel,expression:"filtePanel"}],staticClass:"filer-order pt-10"},[r("v-card",[r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"pa-3",attrs:{outlined:""}},[r("span",{staticClass:"overline"},[t._v("Select Date Range")]),t._v(" "),r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-text-field",t._g(t._b({staticClass:"mt-1",attrs:{range:"",label:"Select Date Range","append-icon":"mdi-calendar",readonly:"",clearable:"",dense:"",outlined:""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},"v-text-field",o,!1),n))]}}]),model:{value:t.datepicker,callback:function(e){t.datepicker=e},expression:"datepicker"}},[t._v(" "),r("v-date-picker",{attrs:{range:""},on:{input:function(e){t.menu2=!1}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1)],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"pa-3",attrs:{outlined:""}},[r("span",{staticClass:"overline"},[t._v("Search With Name/Phone/Order Id")]),t._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",label:"Search Here","prepend-inner-icon":"search"},model:{value:t.payload.search,callback:function(e){t.$set(t.payload,"search",e)},expression:"payload.search"}})],1)],1)],1),t._v(" "),r("v-row",{staticClass:"my-5"},[r("v-col",[r("v-btn",{attrs:{block:"",color:"primary"},on:{click:t.getFilteredOrders}},[r("v-icon",[t._v("filter_alt")]),t._v("Find Orders\n              ")],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"7278407a",null)),N=R.exports;x()(R,{VBtn:O.a,VCard:S.a,VCardActions:C.a,VCardText:C.b,VCardTitle:C.c,VChip:j.a,VCol:k.a,VContainer:D.a,VDataTable:w.a,VDatePicker:P.a,VDialog:A.a,VDivider:V.a,VIcon:I.a,VMenu:$.a,VRow:T.a,VSelect:U.a,VSpacer:M.a,VTextField:z.a});function Y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function J(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Y(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var W={data:function(){return{moment:d.a,env:c.a,paymentDialog:!1,datepicker:!1,filtePanel:!1,dates:[],loading:!0,orderEditPanel:!1,confirmDialog:!1,confiremed:!1,orderStatusUpdatedItem:null,paymentConfirmDialog:!1,paymentConfiremed:!1,paymentStatusUpdatedItem:null,getOrderState:!1,onlineOrderList:[],item:{state:null,paymentStatus:null},payload:{startDate:null,endDate:null,search:null},search:"",orderSearch:"",headers:[{text:"Order ID",align:"start",filterable:!1,value:"orderId"},{text:"Date",value:"createdAt"},{text:"Order From",value:"createdBy"},{text:"Customer",value:"customer.name"},{text:"Amount",value:"totalBill"},{text:"Discount",value:"discount"},{text:"Order Due",value:"orderDue"},{text:"Status",value:"state"},{text:"Action",value:"action"}],itemsOs:[{text:"pending",value:0},{text:"processing",value:1},{text:"sent for delivery",value:2},{text:"delivered",value:3},{text:"returned ",value:4},{text:"cancelled",value:6}],itemsPs:[{text:"pending",value:0},{text:"paid",value:1},{text:"refund",value:2},{text:"cancelled",value:3}]}},created:function(){},mounted:function(){this.imageUrl="https://api.sailorsexpress.com/",localStorage.isAdmin&&(this.isAdmin=localStorage.isAdmin,this.admin=JSON.parse(localStorage.admin),this.ctoken=localStorage.token,this.initialize())},computed:{dateRangeText:function(){return this.dates.length>0?this.dates.join(" ~ "):"Select Date Range"}},watch:{name:function(t,e){console.log(t,e)}},methods:J(J({},Object(v.b)({successMessage:"snackbar/successMessage"})),{},{filteredOrders:function(){this.filtePanel?this.filtePanel=!1:this.filtePanel=!0},orderDetails:function(t){this.$store.commit("SetOrderDetails",t),this.$router.push("/dashboard/order/"+t.orderId)},updateOrder:function(t){console.log(t);var e={deliveryAddress:t.customer.deliveryAddress},r="/order/update/"+t._id;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$post(r,e).then((function(t){console.log(t)})).catch((function(t){}))},initialize:function(){var t=this;this.$axios.setToken(this.ctoken),this.$axios.$get("/order/view/customer-orders").then((function(e){t.onlineOrderList=e.data,t.loading=!1})).catch((function(t){}))},getFilteredOrders:function(){var t=this;this.payload.startDate=this.dates[0],this.payload.endDate=this.dates[1];this.$axios.setToken(this.ctoken),this.$axios.$post("/order/view/byDate",this.payload).then((function(e){t.onlineOrderList=e.data,setTimeout((function(){t.filtePanel=!1}),2e3)})).catch((function(t){}))},confirmOrderStatusUpdate:function(){this.confirmDialog=!1,this.confiremed=!0,this.callUpdateOrderStatusApi(this.orderStatusUpdatedItem)},cancelOrderStatusUpdate:function(){this.confirmDialog=!1,this.initialize()},updateOrderStatus:function(t){this.confirmDialog=!0,this.orderStatusUpdatedItem=t},callUpdateOrderStatusApi:function(t){var e=this,r="/order/update/"+t._id+"/state/"+t.state;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$get(r).then((function(t){t.success&&e.successMessage("Order Status Updated")}))},confirmPaymentStatusUpdate:function(){this.paymentConfirmDialog=!1,this.paymentConfiremed=!0,this.callUpdatePaymentStatusApi(this.paymentStatusUpdatedItem)},cancelPaymentStatusUpdate:function(){this.paymentConfirmDialog=!1,this.initialize()},updatePaymentStatus:function(t){this.paymentConfirmDialog=!0,this.paymentStatusUpdatedItem=t},callUpdatePaymentStatusApi:function(t){var e=this,r="/order/update/"+t._id+"/payment/"+t.paymentStatus;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$get(r).then((function(t){t.success&&e.successMessage("Payment Status Updated")}))},paymentAccept:function(t){this.paymentItem=t,console.log(t),this.paymentDialog=!0},confirmPayment:function(){var t=this;this.$axios.setToken(this.ctoken);var e="/admin/approve/payment/"+this.paymentItem._id;this.$axios.$get(e).then((function(e){t.successMessage("Payment Proceed!"),t.paymentItem=null,setTimeout((function(){window.location.reload()}),500)})).catch((function(e){t.errorMessage=e.message}))},priceFormate:function(t){return new Intl.NumberFormat({maximumSignificantDigits:3}).format(Math.floor(t))}})},H=(r(898),Object(_.a)(W,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("v-container",[r("h4",{staticClass:"text-center pt-10 pb-10"},[t._v("Customer Order List")]),t._v(" "),r("v-card",[r("v-card-title",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.orderSearch,callback:function(e){t.orderSearch=e},expression:"orderSearch"}})],1),t._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.onlineOrderList,search:t.search,loading:t.loading,"loading-text":"Loading... Please wait","items-per-page":10,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"}},scopedSlots:t._u([{key:"item.orderId",fn:function(e){var n=e.item;return[r("a",{staticClass:"order-link",on:{click:function(e){return t.orderDetails(n)}}},[t._v("\n            "+t._s(n.orderId)+"\n          ")])]}},{key:"item.customer.name",fn:function(e){var n=e.item;return[t._v("\n          "+t._s(n.customer.name)+"\n          "),r("br"),t._v(" "),r("span",[t._v(t._s(n.phone))]),t._v(" "),r("br"),t._v(" "),r("span",[t._v(t._s(n.customer.address))])]}},{key:"item.createdAt",fn:function(e){var r=e.item;return[t._v("\n          "+t._s(t.moment(r.createdAt).format("DD MMM YYYY"))+"\n        ")]}},{key:"item.createdBy",fn:function(e){var n=e.item;return["agent"==n.createdBy?r("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v("Agent")]):t._e(),t._v(" "),"customer"==n.createdBy?r("v-chip",{staticClass:"ma-2",attrs:{color:"sailor","text-color":"white"}},[t._v("Customer")]):t._e()]}},{key:"item.totalBill",fn:function(e){var r=e.item;return[t._v("\n          ৳"+t._s(t.priceFormate(r.totalBill))+"\n        ")]}},{key:"item.orderDue",fn:function(e){var r=e.item;return[t._v("\n          ৳"+t._s(t.priceFormate(r.orderDue))+"\n        ")]}},{key:"item.state",fn:function(e){var n=e.item;return[0==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Pending")]):t._e(),t._v(" "),1==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v("Processing")]):t._e(),t._v(" "),2==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"info","text-color":"white"}},[t._v("Sent for delivery")]):t._e(),t._v(" "),3==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivered")]):t._e(),t._v(" "),4==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Returned")]):t._e(),t._v(" "),6==n.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Cancelled")]):t._e()]}},{key:"item.action",fn:function(e){var n=e.item;return[r("v-select",{attrs:{items:t.itemsOs,label:"Order Status",dense:"",outlined:"",disabled:3==n.state||4==n.state},on:{change:function(e){return t.updateOrderStatus(n)}},model:{value:n.state,callback:function(e){t.$set(n,"state",e)},expression:"item.state"}}),t._v(" "),r("v-select",{attrs:{items:t.itemsPs,label:"Payment Status",dense:"",outlined:""},on:{change:function(e){return t.updatePaymentStatus(n)}},model:{value:n.paymentStatus,callback:function(e){t.$set(n,"paymentStatus",e)},expression:"item.paymentStatus"}}),t._v(" "),r("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.paymentConfirmDialog,callback:function(e){t.paymentConfirmDialog=e},expression:"paymentConfirmDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Confirm Payment Status Panel")]),t._v(" "),r("v-card-text",[t._v("Are You Sure You Want to Change the Payment Status\n                ?")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"error"},on:{click:t.cancelPaymentStatusUpdate}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.confirmPaymentStatusUpdate}},[t._v("I accept")])],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Confirm Order Status Panel")]),t._v(" "),r("v-card-text",[t._v("Are You Sure You Want to Change the Order Status\n                ?")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"error"},on:{click:t.cancelOrderStatusUpdate}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.confirmOrderStatusUpdate}},[t._v("I accept")])],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{width:"500"},model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[r("v-card",[r("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v("\n                Payment Confirm\n              ")]),t._v(" "),r("v-card-text",[t._v("\n                A Request for confirmation about payment. Are you sure to\n                process it?\n              ")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.paymentDialog=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.confirmPayment}},[t._v("\n                  I accept\n                ")])],1)],1)],1)]}}])})],1)],1)],1)}),[],!1,null,"2d0471d7",null)),Q=H.exports;x()(H,{VBtn:O.a,VCard:S.a,VCardActions:C.a,VCardText:C.b,VCardTitle:C.c,VChip:j.a,VContainer:D.a,VDataTable:w.a,VDialog:A.a,VDivider:V.a,VSelect:U.a,VSpacer:M.a,VTextField:z.a});function G(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function K(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?G(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):G(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var X={data:function(){return{moment:d.a,selectedVendor:null,vendorOrderList:[]}},created:function(){this.fetchVendorAction()},computed:K({},Object(v.c)({getAllVendor:"vendor/getItemList"})),methods:K(K({},Object(v.b)({successMessage:"snackbar/successMessage",fetchVendorAction:"vendor/fetchItems"})),{},{findVendorsOrder:function(){var t=this,e="/order/view/vendor/"+this.selectedVendor;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$post(e,{}).then((function(e){t.vendorOrderList=e.data})).catch((function(t){}))}})},Z=r(812),tt=r(813),et=r(814),at=r(815),st=r(85),nt=r(842),it=r(789),ot=Object(_.a)(X,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("v-row",[r("v-col",{attrs:{md:"4"}},[r("v-card",{staticClass:"pa-5",attrs:{outlined:""}},[r("span",{staticClass:"overline"},[t._v("Select Vendor")]),t._v(" "),r("v-overflow-btn",{attrs:{items:t.getAllVendor,label:"Select Vendor",segmented:"",editable:"",clearable:"",dense:"","item-text":"vendorName","item-value":"_id"},on:{change:t.findVendorsOrder},model:{value:t.selectedVendor,callback:function(e){t.selectedVendor=e},expression:"selectedVendor"}})],1)],1),t._v(" "),r("v-col",{attrs:{md:"4"}})],1),t._v(" "),r("v-expansion-panels",t._l(t.vendorOrderList,(function(e,i){return r("v-expansion-panel",{key:i},[r("v-expansion-panel-header",{scopedSlots:t._u([{key:"default",fn:function(n){var o=n.open;return[r("v-row",{attrs:{"no-gutters":"",align:"center"}},[r("v-col",{attrs:{cols:"2"}},[0==e.deliveryType?r("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Pickup")]):t._e(),t._v(" "),1==e.deliveryType?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivery inside dhaka")]):t._e(),t._v(" "),2==e.deliveryType?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivery outside dhaka")]):t._e(),t._v(" "),3==e.deliveryType?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivery in niketon")]):t._e()],1),t._v(" "),r("v-col",{attrs:{cols:"2"}},[t._v("Order No # "+t._s(e.orderId))]),t._v(" "),r("v-col",{attrs:{cols:"4"}},[0==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Pending")]):t._e(),t._v(" "),1==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v("Processing")]):t._e(),t._v(" "),2==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"info","text-color":"white"}},[t._v("Sent for delivery")]):t._e(),t._v(" "),3==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivered")]):t._e(),t._v(" "),4==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Returned")]):t._e()],1),t._v(" "),r("v-col",{staticClass:"text--secondary",attrs:{cols:"4"}},[r("v-fade-transition",{attrs:{"leave-absolute":""}},[o?r("div",{key:"0"},[0==e.paymentStatus?r("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Pending")]):t._e(),t._v(" "),1==e.paymentStatus?r("v-chip",{staticClass:"ma-2",attrs:{color:"success","text-color":"white"}},[t._v("Paid")]):t._e(),t._v(" "),2==e.paymentStatus?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Refund")]):t._e(),t._v(" "),3==e.paymentStatus?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Cancel")]):t._e()],1):r("span",{key:"1"})])],1)],1)]}}],null,!0)}),t._v(" "),r("v-expansion-panel-content",[r("v-row",[r("v-col",{attrs:{md:"4"}},[r("v-card",{staticClass:"pa-5 fill-height",attrs:{outlined:""}},[r("p",{staticClass:"caption"},[t._v("Customer Info")]),t._v(" "),e.customer?[r("p",{staticClass:"caption ma-0"},[t._v("\n                  Name :\n                  "),r("b",[t._v(t._s(e.customer.name))])]),t._v(" "),r("p",{staticClass:"caption ma-0"},[t._v("Address : "+t._s(e.customer.address))]),t._v(" "),r("p",{staticClass:"overline ma-0"},[t._v("Delivery Address : "+t._s(e.customer.deliveryAddress))])]:t._e(),t._v(" "),r("p",{staticClass:"overline ma-0"},[t._v("Phone : "+t._s(e.phone))])],2)],1),t._v(" "),r("v-col",{attrs:{md:"8"}},[r("v-card",{staticClass:"pa-5",attrs:{outlined:""}},[r("p",{staticClass:"caption"},[t._v("Order Info")]),t._v(" "),r("a",{attrs:{href:" "+t.env.imageBaseUrl+e.invoice,target:"_black"}}),t._v(" "),r("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[t._v("Vendor")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Name")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Quantity")]),t._v(" "),r("th",{staticClass:"text-right"},[t._v("Price")])])]),t._v(" "),r("tbody",[t._l(e.products,(function(e){return r("tr",{key:e._id},[r("td",[t._v(t._s(e.vendor.name))]),t._v(" "),r("td",[t._v(t._s(e.name+" "+e.size))]),t._v(" "),r("td",[t._v(t._s(e.quantity))]),t._v(" "),r("td",{staticClass:"text-right"},[r("p",{staticClass:"overline ma-0"},[t._v(t._s(e.price))]),t._v(" "),r("p",{staticClass:"caption ma-0"},[t._v("Discount - "+t._s(e.discount)+" BDT")]),t._v(" "),r("p",{staticClass:"caption ma-0"},[t._v("Vat + "+t._s(e.vat)+" BDT")])])])})),t._v(" "),r("tr",[r("td",{attrs:{colspan:"3"}},[t._v("Billing Amount")]),t._v(" "),r("td",{staticClass:"text-right"},[t._v(t._s(e.totalBill))])])],2)]},proxy:!0}],null,!0)})],1)],1)],1)],1)],1)})),1)],1)}),[],!1,null,null,null),ct=ot.exports;x()(ot,{VCard:S.a,VChip:j.a,VCol:k.a,VExpansionPanel:Z.a,VExpansionPanelContent:tt.a,VExpansionPanelHeader:et.a,VExpansionPanels:at.a,VFadeTransition:st.c,VOverflowBtn:nt.a,VRow:T.a,VSimpleTable:it.a});function lt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function vt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?lt(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):lt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var ut={data:function(){return{moment:d.a,env:c.a,onlineOrderList:[],item:{state:null,paymentStatus:null},isAdmin:!1,admin:null,isVendor:!1,vendor:null}},created:function(){},mounted:function(){localStorage.isAdmin&&(this.isAdmin=localStorage.isAdmin,this.admin=JSON.parse(localStorage.admin),this.getAllOrderByAdmin()),localStorage.isVendor&&(this.isVendor=localStorage.isVendor,this.vendor=JSON.parse(localStorage.vendor),this.getAllOrderByVendor())},methods:vt(vt({},Object(v.b)({successMessage:"snackbar/successMessage"})),{},{getAllOrderByAdmin:function(){var t=this;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$post("/order/view/admin",{}).then((function(e){console.log(e),t.onlineOrderList=e.data})).catch((function(t){}))},getAllOrderByVendor:function(){var t=this,e="/order/view/vendor/"+this.vendor.vendorId;this.$axios.setToken(localStorage.getItem("token")),this.$axios.$post(e,{}).then((function(e){console.log(e),t.onlineOrderList=e.data})).catch((function(t){}))}})},mt=Object(_.a)(ut,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-expansion-panels",t._l(t.onlineOrderList,(function(e,i){return r("v-expansion-panel",{key:i},[r("v-expansion-panel-header",{scopedSlots:t._u([{key:"default",fn:function(n){var o=n.open;return[r("v-row",{attrs:{"no-gutters":"",align:"center"}},[r("v-col",{attrs:{cols:"2"}},[0==e.deliveryType?r("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Pickup")]):t._e(),t._v(" "),1==e.deliveryType?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivery inside dhaka")]):t._e(),t._v(" "),2==e.deliveryType?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivery outside dhaka")]):t._e(),t._v(" "),3==e.deliveryType?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivery in niketon")]):t._e()],1),t._v(" "),r("v-col",{attrs:{cols:"2"}},[t._v("Order No # "+t._s(e.orderId))]),t._v(" "),r("v-col",{attrs:{cols:"4"}},[0==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Pending")]):t._e(),t._v(" "),1==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"warning","text-color":"white"}},[t._v("Processing")]):t._e(),t._v(" "),2==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"info","text-color":"white"}},[t._v("Sent for delivery")]):t._e(),t._v(" "),3==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("Delivered")]):t._e(),t._v(" "),4==e.state?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Returned")]):t._e()],1),t._v(" "),r("v-col",{staticClass:"text--secondary",attrs:{cols:"4"}},[r("v-fade-transition",{attrs:{"leave-absolute":""}},[o?r("div",{key:"0"},[r("span",{staticClass:"caption"},[t._v("Payment Status")]),t._v(" "),0==e.paymentStatus?r("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Pending")]):t._e(),t._v(" "),1==e.paymentStatus?r("v-chip",{staticClass:"ma-2",attrs:{color:"success","text-color":"white"}},[t._v("Paid")]):t._e(),t._v(" "),2==e.paymentStatus?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Refund")]):t._e(),t._v(" "),3==e.paymentStatus?r("v-chip",{staticClass:"ma-2",attrs:{color:"error","text-color":"white"}},[t._v("Cancel")]):t._e()],1):r("span",{key:"1"})])],1)],1)]}}],null,!0)}),t._v(" "),r("v-expansion-panel-content",[r("v-row",[r("v-col",{attrs:{md:"4"}},[r("v-card",{staticClass:"pa-5 fill-height",attrs:{outlined:""}},[r("p",{staticClass:"caption"},[t._v("Customer Info")]),t._v(" "),e.customer?[r("p",{staticClass:"caption ma-0"},[t._v("\n                Name :\n                "),r("b",[t._v(t._s(e.customer.name))])]),t._v(" "),r("p",{staticClass:"caption ma-0"},[t._v("Address : "+t._s(e.customer.address))]),t._v(" "),r("p",{staticClass:"overline ma-0"},[t._v("Delivery Address : "+t._s(e.customer.deliveryAddress))])]:t._e(),t._v(" "),r("p",{staticClass:"overline ma-0"},[t._v("Phone : "+t._s(e.phone))])],2)],1),t._v(" "),r("v-col",{attrs:{md:"8"}},[r("v-card",{staticClass:"pa-5",attrs:{outlined:""}},[r("p",{staticClass:"caption"},[t._v("Order Info")]),t._v(" "),r("a",{attrs:{href:" "+t.env.imageBaseUrl+e.invoice,target:"_black"}}),t._v(" "),r("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[t._v("Vendor")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Name")]),t._v(" "),r("th",{staticClass:"text-left"},[t._v("Quantity")]),t._v(" "),r("th",{staticClass:"text-right"},[t._v("Price")])])]),t._v(" "),r("tbody",[t._l(e.products,(function(e){return r("tr",{key:e._id},[r("td",[t._v(t._s(e.vendor.name))]),t._v(" "),r("td",[t._v(t._s(e.name+" "+e.size))]),t._v(" "),r("td",[t._v(t._s(e.quantity))]),t._v(" "),r("td",{staticClass:"text-right"},[r("p",{staticClass:"overline ma-0"},[t._v(t._s(e.price))]),t._v(" "),r("p",{staticClass:"caption ma-0"},[t._v("Discount - "+t._s(e.discount)+" BDT")]),t._v(" "),r("p",{staticClass:"caption ma-0"},[t._v("Vat + "+t._s(e.vat)+" BDT")])])])})),t._v(" "),r("tr",[r("td",{attrs:{colspan:"3"}},[t._v("Billing Amount")]),t._v(" "),r("td",{staticClass:"text-right"},[t._v(t._s(e.totalBill))])])],2)]},proxy:!0}],null,!0)})],1)],1)],1)],1)],1)})),1)}),[],!1,null,null,null),pt=mt.exports;x()(mt,{VCard:S.a,VChip:j.a,VCol:k.a,VExpansionPanel:Z.a,VExpansionPanelContent:tt.a,VExpansionPanelHeader:et.a,VExpansionPanels:at.a,VFadeTransition:st.c,VRow:T.a,VSimpleTable:it.a});var ht={components:{AppNoDataCard:n.a,AppOnlineOrder:B,AgentOrders:N,CustomerOrders:Q,AppVendorOrder:ct,AppOfflineOrder:pt},data:function(){return{onlineOrderLoader:!1,vendorOrderLoader:!1,isAdmin:!1,admin:null,isVendor:!1,vendor:null}},mounted:function(){localStorage.isAdmin&&(this.isAdmin=localStorage.isAdmin,this.admin=JSON.parse(localStorage.admin)),localStorage.isVendor&&(this.isVendor=localStorage.isVendor,this.vendor=JSON.parse(localStorage.vendor))},methods:{}},ft=r(611),_t=r(615),gt=r(612),yt=Object(_.a)(ht,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[[r("v-tabs",{attrs:{"background-color":"transparent",grow:""}},[t.isAdmin?r("v-tab",[t._v("\n        All Orders\n      ")]):t._e(),t._v(" "),t.isAdmin?r("v-tab",[t._v("\n        Agent Orders\n      ")]):t._e(),t._v(" "),t.isAdmin?r("v-tab",[t._v("\n        Customers Orders\n      ")]):t._e(),t._v(" "),t.isAdmin?r("v-tab-item",[r("AppOnlineOrder")],1):t._e(),t._v(" "),t.isAdmin?r("v-tab-item",[r("AgentOrders")],1):t._e(),t._v(" "),t.isAdmin?r("v-tab-item",[r("CustomerOrders")],1):t._e()],1)]],2)}),[],!1,null,null,null);e.default=yt.exports;x()(yt,{VTab:ft.a,VTabItem:_t.a,VTabs:gt.a})}}]);