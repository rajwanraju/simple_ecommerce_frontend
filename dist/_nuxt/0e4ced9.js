(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{301:function(t,e,o){"use strict";o.d(e,"a",(function(){return c})),o.d(e,"b",(function(){return d})),o.d(e,"c",(function(){return v}));var r=o(569),n=o(0),c=Object(n.i)("v-card__actions"),l=Object(n.i)("v-card__subtitle"),d=Object(n.i)("v-card__text"),v=Object(n.i)("v-card__title");r.a},903:function(t,e,o){"use strict";o.r(e);o(7),o(5),o(6),o(9),o(10);var r=o(2),n=(o(21),o(184)),c=o.n(n),l=o(38),d=o(126),v=o.n(d);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={components:{VImageInput:c.a},data:function(){return{isAdmin:!1,admin:null,imageUrl:null,image:null,imageEditorModal:!1,imageEditorData:null,valid:!1,requiredRules:[function(t){return!!t||"Name is required"}],product:{name:null,quantity:0,description:null,price:null,thumbnail:null}}},computed:{getFormValidation:function(){return!this.valid||null==this.product.thumbnail}},mounted:function(){this.imageUrl="http://localhost:9001",localStorage.isAdmin&&(this.isAdmin=localStorage.isAdmin,this.admin=JSON.parse(localStorage.admin))},methods:f(f({},Object(l.b)({successMessage:"snackbar/successMessage"})),{},{productStore:function(){var t=this,e={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};this.$axios.setToken(localStorage.getItem("token"));var data={name:this.product.name,detail:this.product.description,quantity:this.product.quantity,image:this.product.thumbnail,price:this.product.price};this.$axios.$post("products ",data,e).then((function(e){t.successMessage("product Added!"),setTimeout((function(){window.location.reload(!0)}),2e3)})).catch((function(e){t.dialog=!0,setTimeout((function(){v.a.fire({type:"error",title:"Oops...",timer:5e3,text:e.response.data.message})}),500)}))},uploadImage:function(){var t=this,e={image:this.image};this.$axios.$post("/storeImage",e).then((function(e){t.product.thumbnail=e.data,t.imageEditorModal=!1,t.$refs.imageEditor.clear()}))},remove:function(t,i){var e=this,o={_id:this.data,image:t};this.$axios.$post("/product/image/remove",o).then((function(t){e.successMessage("Image Removed")}))},removeImage:function(){this.product.thumbnail=null},clearImage:function(){this.imageEditorModal=!1,this.$refs.imageEditor.clear()}})},h=o(23),y=o(31),O=o.n(y),x=o(118),k=o(569),w=o(301),j=o(581),I=o(590),V=o(582),C=o(583),E=o(193),P=o(584),$=o(585),S=o(571),M=o(183),T=o(93),component=Object(h.a)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",[o("v-toolbar",[o("v-toolbar-title",[t._v("Add Product")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-toolbar-items",[o("v-btn",{attrs:{success:"",color:"primary",disabled:t.getFormValidation,text:""},on:{click:t.productStore}},[t._v("Save")])],1)],1),t._v(" "),o("v-card-text",[o("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-card",{staticClass:"pa-3",attrs:{outlined:""}},[o("p",{staticClass:"caption mb-5"},[t._v("Basic Info")]),t._v(" "),o("span",{staticClass:"overline"},[t._v("Name *")]),t._v(" "),o("v-text-field",{attrs:{rules:t.requiredRules,outlined:"",dense:"",label:"Name"},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}}),t._v(" "),o("span",{staticClass:"overline"},[t._v("Description")]),t._v(" "),o("vue-editor",{model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1)],1),t._v(" "),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-card",{staticClass:"pa-3",attrs:{outlined:""}},[o("v-row",[o("v-col",[o("span",{staticClass:"overline"},[t._v("Price")]),t._v(" "),o("v-text-field",{attrs:{outlined:"",dense:"",label:"Price"},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1)],1),t._v(" "),o("v-row",[o("v-col",[o("span",{staticClass:"overline"},[t._v("Quantity")]),t._v(" "),o("v-text-field",{attrs:{outlined:"",dense:"",label:"quantity"},model:{value:t.product.quantity,callback:function(e){t.$set(t.product,"quantity",e)},expression:"product.quantity"}})],1)],1)],1)],1),t._v(" "),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-card",{staticClass:"pa-3",attrs:{outlined:""}},[o("p",{staticClass:"caption mb-5"},[t._v("Product Thumbnail *")]),t._v(" "),o("v-card",{attrs:{outlined:""}},[null!=t.product.thumbnail?o("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],staticClass:"img-fluid",attrs:{"data-src":t.imageUrl+"/storage/products/"+t.product.thumbnail}}):t._e()]),t._v(" "),t.product.thumbnail?t._e():o("v-btn",{attrs:{color:"primary",block:""},on:{click:function(e){t.imageEditorModal=!0}}},[o("v-icon",[t._v("camera")]),t._v("Add Product Image\n              ")],1),t._v(" "),t.product.thumbnail?o("v-btn",{attrs:{block:""},on:{click:t.removeImage}},[o("v-icon",[t._v("remove_circle_outline")]),t._v("Remove Image\n              ")],1):t._e()],1)],1)],1),t._v(" "),o("v-row",{attrs:{justify:"center"}},[o("v-dialog",{attrs:{persistent:"","max-width":"1024"},model:{value:t.imageEditorModal,callback:function(e){t.imageEditorModal=e},expression:"imageEditorModal"}},[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-icon",[t._v("camera")]),t._v("Image Editor\n            ")],1),t._v(" "),o("v-card",[o("client-only",[o("div",{staticClass:"image-wpr d-flex justify-center py-8"},[o("v-image-input",{ref:"imageEditor",attrs:{"image-quality":.95,overlayPadding:"10px",imageHeight:800,imageWidth:800,"image-format":"jpg",uploadIcon:"add_a_photo","hide-actions":!0},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)]),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.clearImage}},[t._v("Close")]),t._v(" "),o("v-btn",{attrs:{color:"primary"},on:{click:t.uploadImage}},[o("v-icon",[t._v("save")]),t._v("Save\n                ")],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;O()(component,{VBtn:x.a,VCard:k.a,VCardActions:w.a,VCardText:w.b,VCol:j.a,VContainer:I.a,VDialog:V.a,VForm:C.a,VIcon:E.a,VRow:P.a,VSpacer:$.a,VTextField:S.a,VToolbar:M.a,VToolbarItems:T.a,VToolbarTitle:T.b})}}]);