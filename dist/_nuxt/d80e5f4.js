(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{801:function(e,t,r){var content=r(851);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("b7fb9dc2",content,!0,{sourceMap:!1})},850:function(e,t,r){"use strict";r(801)},851:function(e,t,r){var o=r(12)(!1);o.push([e.i,"table[data-v-66687217]{font-family:arial,sans-serif;border-collapse:collapse;width:100%;margin:.5em}td[data-v-66687217],th[data-v-66687217]{border:1px solid #ddd;text-align:left;padding:8px}tr[data-v-66687217]:nth-child(2n){background-color:#ddd}.v-card[data-v-66687217]{overflow:hidden}.active[data-v-66687217]{border:2px solid #263977}.addressDiv[data-v-66687217]{padding:1em;width:50%}.v-radio[data-v-66687217]{margin-bottom:0!important;border:1px solid #ece9e9;padding:1em}.v-radio.v-item--active[data-v-66687217]{border:2px solid #263977}.cfCard[data-v-66687217]{box-shadow:0 5px 5px rgba(165,167,185,.05),0 5px 5px rgba(165,167,185,.25)!important;border-radius:15px!important;background-color:#fff!important;text-align:center;padding:1em}.cfCard[data-v-66687217]:hover{box-shadow:0 0 0 2px #e0e0e0,0 0 0 2px #e0e0e0!important;cursor:pointer}",""]),e.exports=o},994:function(e,t,r){"use strict";r.r(t);r(8),r(6),r(7),r(10),r(11);var o=r(2),n=r(152),l=(r(21),r(29)),c=r(95),d=r.n(c);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={components:{},props:["promoDiscount"],data:function(){return{e6:1,orderSuccessData:{data:{isPaymentType:null}},orderLoading:!1,agentData:[],orderConfirmed:!1,errorMessage:null,isCustomer:!1,customer:null,disabled:0,isPaymentType:"Delivery",selectedPhone:null,notificationUpdate:!1,sameAsBillingAddress:!0,selectedName:null,selectedBillingAddress:null,selectedShippingAddress:null,invoiceUrl:null,paymentUrl:null,paymentUrlOrderID:null,shippingOption:0,paymentOption:1}},mounted:function(){localStorage.customer&&(this.isCustomer=localStorage.isCustomer,this.customer=JSON.parse(localStorage.customer),this.selectedPhone=this.customer.phone,this.selectedBillingAddress=this.customer.address,this.selectedShippingAddress=this.customer.deliveryAddress,this.selectedName=this.customer.name,this.ctoken=localStorage.ctoken,this.initialize(),console.log(this.customer))},computed:m(m({},Object(l.c)({getCartListForOrder:"cart/getCartListForOrder",getOrderCreatedFlag:"order/getOrderCreatedFlag"})),{},{getShippingAddress:function(){return this.sameAsBillingAddress?this.selectedBillingAddress:this.selectedShippingAddress}}),methods:m(m({},Object(l.b)({createNewInvoice:"order/createNewInvoice",clearCart:"cart/clearCart"})),{},{initialize:function(){var e=this;this.$axios.setToken(this.ctoken);var t="/report/agent/"+this.customer._id;this.$axios.$get(t).then((function(t){e.agentData=t.data}))},callPaymentApi:function(){var e="/payment/"+this.paymentUrlOrderID;this.$router.push(e)},verifyPhoneNumber:function(){this.e6=2},confirmOrder:function(){var e=this;this.isCustomer&&"agent"==this.customer.role&&this.agentData.due>0?d.a.fire({title:"Agent Has Due Balance.!",type:"error",confirmButtonColor:"#3085d6",confirmButtonText:"Pay Now!"}).then((function(t){setTimeout((function(){e.$router.push({path:"/e-agent/my-account"})}),500)})):this.placedOrder()},placedOrder:function(){var e=this;this.orderLoading=!0;var data={products:this.getCartListForOrder,deliveryType:this.shippingOption,paymentType:this.paymentOption,discount:100,phone:this.selectedPhone,createdBy:this.isCustomer?this.customer.role:"customer"};this.promoDiscount&&(data.promo=this.promoDiscount.code),this.isCustomer?data.customer={_id:this.customer._id,name:this.selectedName,address:this.selectedBillingAddress,deliveryAddress:this.getShippingAddress}:data.customer={name:this.selectedName,address:this.selectedBillingAddress,deliveryAddress:this.getShippingAddress};var t=data;this.$axios.setToken(this.ctoken),this.$axios.$post("/order/create",t).then((function(t){t.success&&(e.orderSuccessData=t,e.invoiceUrl="https://api.sailorsexpress.com/"+t.data.invoice,e.paymentUrlOrderID=t.data._id,d.a.fire({title:"Succesfully Placed Your Order!",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok!"}).then((function(t){setTimeout((function(){e.$router.push({path:"/"})}),500)})),e.clearCart())})).catch((function(t){e.orderLoading=!1,e.errorMessage=t.response.data.message}))}})},f=(r(850),r(23)),_=r(34),y=r.n(_),O=r(613),C=r(119),x=r(593),k=r(608),A=r(757),P=r(604),w=r(802),D=r(803),S=r(610),j=r(978),B=r(979),N=r(980),T=r(592),component=Object(f.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("p",{staticClass:"headingTitle text-left"},[e._v("Checkout")]),e._v(" "),r("v-stepper",{attrs:{vertical:"",linear:""},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[r("v-stepper-step",{attrs:{editable:null!=e.selectedPhone,complete:e.e6>1,step:"1"}},[e._v("\n      Phone Number\n      "),r("small",[e._v(e._s(e.selectedPhone))])]),e._v(" "),r("v-stepper-content",{attrs:{step:"1"}},[r("div",{staticClass:"px-5"},[r("v-text-field",{attrs:{outlined:"",dense:"",label:"Phone",disabled:null!=e.selectedPhone},model:{value:e.selectedPhone,callback:function(t){e.selectedPhone=t},expression:"selectedPhone"}})],1),e._v(" "),e.isCustomer?r("v-btn",{attrs:{color:"primary",disabled:!e.selectedPhone||e.selectedPhone.length<10,large:"",block:""},on:{click:function(t){e.e6=3}}},[e._v("Confirm")]):e._e(),e._v(" "),e.isCustomer?e._e():r("v-btn",{attrs:{color:"primary",disabled:!e.selectedPhone||e.selectedPhone.length<10,large:"",block:""},on:{click:e.verifyPhoneNumber}},[e._v("Verify Phone")])],1),e._v(" "),r("v-stepper-step",{attrs:{editable:null!=e.shippingOption,step:"2"}},[e._v("Shipping information")]),e._v(" "),r("v-stepper-content",{attrs:{step:"2"}},[r("div",{staticClass:"px-5"},[r("p",{staticClass:"caption ma-0"},[e._v("Please choose a shipping method:")]),e._v(" "),r("v-radio-group",{staticClass:"mb-10",model:{value:e.shippingOption,callback:function(t){e.shippingOption=t},expression:"shippingOption"}},[r("v-radio",{attrs:{label:"Local Delivery - Dhaka Outside - 100Tk",value:2}}),e._v(" "),r("v-radio",{attrs:{label:"Local Delivery - Dhaka Inseide - 50Tk",value:1}}),e._v(" "),r("v-radio",{attrs:{label:"Pickup From Store",value:0}})],1)],1),e._v(" "),r("v-btn",{attrs:{color:"primary",disabled:null==e.shippingOption,large:"",block:""},on:{click:function(t){e.e6=3}}},[e._v("Continue")])],1),e._v(" "),r("v-stepper-step",{attrs:{editable:null!=e.selectedName,complete:e.e6>2,step:"2"}},[e._v("Delivery options")]),e._v(" "),r("v-stepper-content",{attrs:{step:"3"}},[0!==e.shippingOption?r("div",{staticClass:"px-5"},[r("p",{staticClass:"body-1 ma-0"},[e._v("\n          Select how you would like to receive your order:\n        ")]),e._v(" "),r("v-row",[r("v-col",[r("p",{staticClass:"caption ma-0"},[e._v("\n              Enter your address. All fields are required unless they're\n              explicitly marked as optional.\n            ")]),e._v(" "),r("p",{staticClass:"overline ma-0"},[e._v("Full Name")]),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",label:"Name"},model:{value:e.selectedName,callback:function(t){e.selectedName=t},expression:"selectedName"}}),e._v(" "),r("p",{staticClass:"overline ma-0"},[e._v("Billing Address")]),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",label:"Billing Address"},model:{value:e.selectedBillingAddress,callback:function(t){e.selectedBillingAddress=t},expression:"selectedBillingAddress"}}),e._v(" "),r("p",{staticClass:"overline ma-0"},[e._v("Shipping Address")]),e._v(" "),r("v-checkbox",{attrs:{label:"Same As Billing Address"},model:{value:e.sameAsBillingAddress,callback:function(t){e.sameAsBillingAddress=t},expression:"sameAsBillingAddress"}}),e._v(" "),e.sameAsBillingAddress?e._e():r("v-text-field",{attrs:{outlined:"",dense:"",label:"Shipping Address"},model:{value:e.selectedShippingAddress,callback:function(t){e.selectedShippingAddress=t},expression:"selectedShippingAddress"}})],1)],1)],1):e._e(),e._v(" "),0===e.shippingOption?r("div",{staticClass:"px-5"},[r("p",{staticClass:"body-1 ma-0"},[e._v("Pickup From Store")]),e._v(" "),r("v-row",[r("v-col",[r("p",{staticClass:"overline ma-0"},[e._v("Full Name")]),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",label:"Name"},model:{value:e.selectedName,callback:function(t){e.selectedName=t},expression:"selectedName"}})],1)],1)],1):e._e(),e._v(" "),r("label",{staticClass:"checkbox",attrs:{for:""}},[r("input",{attrs:{type:"checkbox"},on:{change:function(t){e.disabled=(e.disabled+1)%2}}}),e._v("\n        I agree the\n        "),r("nuxt-link",{style:{color:"blue"},attrs:{to:{path:"/terms"},target:"_blank"}},[e._v("Terms & Conditions")]),e._v("\n        for my transection.\n      ")],1),e._v(" "),r("v-btn",{attrs:{color:"primary",large:"",block:"",disabled:0==e.disabled,loading:e.orderLoading},on:{click:e.confirmOrder}},[e._v("Confirm Order")])],1),e._v(" "),r("v-stepper-content",{attrs:{step:"4"}},[r("div",{staticClass:"px-5"},[r("v-radio-group",{staticClass:"mb-10",model:{value:e.paymentOption,callback:function(t){e.paymentOption=t},expression:"paymentOption"}},[r("v-radio",{attrs:{label:"Cash On Delivery",value:1}}),e._v(" "),r("v-radio",{attrs:{label:"Online",value:2}})],1),e._v(" "),r("p",[r("span",{staticClass:"caption"},[e._v("Name :")]),e._v("\n          "+e._s(this.selectedName)+"\n        ")]),e._v(" "),r("p",[r("span",{staticClass:"caption"},[e._v("Billing Address :")]),e._v("\n          "+e._s(this.selectedBillingAddress)+"\n        ")]),e._v(" "),r("p",[r("span",{staticClass:"caption"},[e._v("Shipping Address :")]),e._v("\n          "+e._s(this.getShippingAddress)+"\n        ")])],1),e._v(" "),r("v-btn",{attrs:{color:"primary",large:"",block:"",loading:e.orderLoading},on:{click:e.confirmOrder}},[e._v("Confirm Order")]),e._v(" "),r("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1)],1),e._v(" "),r("v-row",{attrs:{justify:"center"}},[e.errorMessage?r("v-alert",{attrs:{dense:"",outlined:"",text:"",type:"error"}},[e._v(e._s(e.errorMessage))]):e._e()],1),e._v(" "),e.orderSuccessData?r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.orderConfirmed,callback:function(t){e.orderConfirmed=t},expression:"orderConfirmed"}},[r("v-card",{staticClass:"pa-5"},[r("p",{staticClass:"title"},[e._v("Thanks for your order! Your order is on its way")]),e._v(" "),r("v-row",[r("v-col",[r("v-btn",{attrs:{color:"primary",large:"",block:""},on:{click:e.callPaymentApi}},[e._v("Pay Now")])],1),e._v(" "),r("v-col",[r("a",{attrs:{href:"https://api.sailorsexpress.com/"+e.orderSuccessData.data.invoice,target:"blank"}},[r("v-btn",{attrs:{outlined:"",color:"primary",large:"",block:""}},[e._v("View Invoice")])],1)])],1),e._v(" "),r("v-row",[r("v-col",[r("v-btn",{attrs:{color:"primary",text:"",large:"",block:""},on:{click:function(t){return e.$router.push("/")}}},[e._v("Close")])],1)],1)],1)],1)],1):e._e()],1)}),[],!1,null,"66687217",null),V=component.exports;function $(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}y()(component,{VAlert:O.a,VBtn:C.a,VCard:x.a,VCheckbox:k.a,VCol:A.a,VDialog:P.a,VRadio:w.a,VRadioGroup:D.a,VRow:S.a,VStepper:j.a,VStepperContent:B.a,VStepperStep:N.a,VTextField:T.a});var M={layout:"landingpage",components:{AppCheckout:V,AppCartTable:n.a},data:function(){return{promoCode:"",promoDiscount:null,total_cart:0}},computed:{isActive:function(){return!!this.promoCode.length},cartTotal:function(){return this.total_cart=this.$store.state.cart.cartList.length,this.$store.state.cart.cartList.length}},mounted:function(){this.$store.commit("showCart",!0)},methods:L(L({},Object(l.b)({successMessage:"snackbar/successMessage",errorMessage:"snackbar/errorMessage"})),{},{applyPromo:function(){var e=this;this.$axios.setToken(localStorage.getItem("ctoken")),this.$axios.get("/promo/verify/".concat(this.promoCode)).then((function(t){var r,o,n,l,c;null!=t&&null!==(r=t.data)&&void 0!==r&&r.success?(e.successMessage(null==t||null===(o=t.data)||void 0===o?void 0:o.message),e.promoDiscount=null==t||null===(n=t.data)||void 0===n?void 0:n.data):(e.promoDiscount=null==t||null===(l=t.data)||void 0===l?void 0:l.data,e.errorMessage(null==t||null===(c=t.data)||void 0===c?void 0:c.message));e.promoCode=""}))}}),watch:{}},F=r(614),I=Object(f.a)(M,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",[r("section",[r("v-container",[r("v-row",[r("v-col",{attrs:{md:"6"}},[r("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[r("p",{staticClass:"headingTitle text-left",attrs:{href:"#sc"}},[e._v("Shopping Cart")]),e._v(" "),r("AppCartTable",{attrs:{promoDiscount:e.promoDiscount}})],1)],1),e._v(" "),r("v-col",{attrs:{md:"6"}},[r("v-card",{attrs:{outlined:""}},[r("AppCheckout",{attrs:{promoDiscount:e.promoDiscount}})],1)],1)],1)],1)],1)])}),[],!1,null,"22e0e519",null);t.default=I.exports;y()(I,{VCard:x.a,VCol:A.a,VContainer:F.a,VRow:S.a})}}]);