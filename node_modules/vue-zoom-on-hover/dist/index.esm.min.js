/*!
 * vue-zoom-on-hover v1.0.4
 * (c) Ivan Alexandrov
 * Released under the GPL-3.0 License.
 */
/*!
 * vue-zoom-on-hover v1.0.4
 * (c) Ivan Alexandrov
 * Released under the GPL-3.0 License.
 */
var e={props:["imgNormal","imgZoom","scale","disabled","altText"],data:function(){return{scaleFactor:1,resizeCheckInterval:null,zoomed:!1}},methods:{pageOffset:function(e){var t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{y:t.top+n,x:t.left+o}},touchzoom:function(e){this.disabled||(this.zoomed="pointerover"===e.type,this.move(e))},zoom:function(){this.disabled||(this.zoomed=!0)},unzoom:function(){this.disabled||(this.zoomed=!1)},move:function(e){var t=this.$refs.zoom,o=this.$refs.normal;if(!this.disabled&&this.zoomed&&t&&o){var n=this.pageOffset(this.$el),i=e.clientX-n.x+window.pageXOffset,s=e.clientY-n.y+window.pageYOffset,a=i/o.offsetWidth,r=s/o.offsetHeight,d=a*(t.offsetWidth*this.scaleFactor-o.offsetWidth),f=r*(t.offsetHeight*this.scaleFactor-o.offsetHeight);t.style.left=-d+"px",t.style.top=-f+"px"}},initEventLoaded:function(){var e=[this.$refs.zoom,this.$refs.normal].map((function(e){return new Promise((function(t,o){e.addEventListener("load",t),e.addEventListener("error",o)}))})),t=this;Promise.all(e).then((function(){t.$emit("loaded")}))},initEventResized:function(){var e=this.$refs.normal,t=e.offsetWidth,o=e.offsetHeight,n=this;this.resizeCheckInterval=setInterval((function(){t==e.offsetWidth&&o==e.offsetHeight||(t=e.offsetWidth,o=e.offsetHeight,n.$emit("resized",{width:e.width,height:e.height,fullWidth:e.naturalWidth,fullHeight:e.naturalHeight}))}),1e3)}},mounted:function(){this.$props.scale&&(this.scaleFactor=parseInt(this.$props.scale),this.$refs.zoom.style.transform="scale("+this.scaleFactor+")"),this.initEventLoaded(),this.initEventResized()},updated:function(){this.initEventLoaded()},beforeDestroy:function(){this.resizeCheckInterval&&clearInterval(this.resizeCheckInterval)}};var t,o=function(e,t,o,n,i,s,a,r,d,f){"boolean"!=typeof a&&(d=r,r=a,a=!1);var l,m="function"==typeof o?o.options:o;if(e&&e.render&&(m.render=e.render,m.staticRenderFns=e.staticRenderFns,m._compiled=!0,i&&(m.functional=!0)),n&&(m._scopeId=n),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},m._ssrRegister=l):t&&(l=a?function(){t.call(this,f(this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),l)if(m.functional){var c=m.render;m.render=function(e,t){return l.call(t),c(e,t)}}else{var h=m.beforeCreate;m.beforeCreate=h?[].concat(h,l):[l]}return o},n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var i={};var s=o({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"zoom-on-hover",class:{zoomed:e.zoomed},on:{pointerover:e.touchzoom,pointerout:e.touchzoom,pointermove:e.move,pointerenter:e.zoom,pointerleave:e.unzoom}},[o("img",{ref:"normal",staticClass:"normal",attrs:{src:e.imgNormal,alt:e.altText}}),e._v(" "),o("img",{ref:"zoom",staticClass:"zoom",attrs:{src:e.imgZoom||e.imgNormal,alt:e.altText}})])},staticRenderFns:[]},(function(e){e&&e("data-v-0ff054f9_0",{source:".zoom-on-hover[data-v-0ff054f9]{position:relative;overflow:hidden}.zoom-on-hover .normal[data-v-0ff054f9]{width:100%}.zoom-on-hover .zoom[data-v-0ff054f9]{position:absolute;opacity:0;transform-origin:top left}.zoom-on-hover.zoomed .zoom[data-v-0ff054f9]{opacity:1}.zoom-on-hover.zoomed .normal[data-v-0ff054f9]{opacity:0}",map:void 0,media:void 0})}),e,"data-v-0ff054f9",!1,void 0,!1,(function(e){return function(e,o){return function(e,o){var s=n?o.media||"default":e,a=i[s]||(i[s]={ids:new Set,styles:[]});if(!a.ids.has(e)){a.ids.add(e);var r=o.source;if(o.map&&(r+="\n/*# sourceURL="+o.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",o.media&&a.element.setAttribute("media",o.media),void 0===t&&(t=document.head||document.getElementsByTagName("head")[0]),t.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(r),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var d=a.ids.size-1,f=document.createTextNode(r),l=a.element.childNodes;l[d]&&a.element.removeChild(l[d]),l.length?a.element.insertBefore(f,l[d]):a.element.appendChild(f)}}}(e,o)}}),void 0,void 0),a={install:function(e,t){e.component("zoom-on-hover",s)}};export default a;
//# sourceMappingURL=index.esm.min.js.map
